<ion-header>
  <ion-navbar hideBackButton="true">

    <ion-grid *ngIf="!isSearchbarOpened">
      <ion-row>
        <ion-col col-auto>
          <ion-buttons>
            <button ion-button icon-only (click)="goToInicio()">
              Home
            </button>
          </ion-buttons>
        </ion-col>

        <ion-col col-auto>
          <ion-buttons>
            <button ion-button icon-only>
              Films
            </button>
          </ion-buttons>
        </ion-col>

        <ion-col col-auto>
          <ion-buttons>
            <button ion-button icon-only (click)="goToSeries()">
              Series
            </button>
          </ion-buttons>
        </ion-col>

        <ion-col col-auto>
          <ion-buttons>
            <button ion-button icon-only (click)="goToPerfil()">
              {{ nombreUsuario }}
              <ion-icon name="md-contact"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>

        <ion-col col-1>
          <ion-buttons>
            <button ion-button icon-only (click)="isSearchbarOpened=true">
              <ion-icon name="search"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>

      </ion-row>
    </ion-grid>

    <ion-searchbar *ngIf="isSearchbarOpened" showCancelButton="true" (ionCancel)="isSearchbarOpened=false" (ionInput)="getItems($event)">
    </ion-searchbar>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>
  <ion-card>
    <ion-row>
      <ion-col col-12 class="center">
        <ion-buttons padding-bottom>
          <button ion-button icon-only outline *ngIf="!filter" (click)="filterType()" col-5>
            Show Filters
          </button>
        </ion-buttons>
      </ion-col>
    </ion-row>

    <ion-card *ngIf="filter">

      <ion-item>
        <ion-label>Year: </ion-label>
        <ion-range dualKnobs="true" pin="true" min="1900" max="2020" step="5" snaps="true" [(ngModel)]="structure">
          <ion-icon range-left small ios="ios-time" md="md-time"></ion-icon>
          <ion-icon range-right ios="ios-time" md="md-time"></ion-icon>
        </ion-range>
      </ion-item>
      
      <ion-item>
        <ion-label>Films Genre: </ion-label>
        <ion-select [(ngModel)]="genre" interface="popover">
          <ion-option value="Genre: All" selected="true">All</ion-option>
          <ion-option value="Genre: Action and adventure">Action and adventure</ion-option>
          <ion-option value="Genre: Cartoon">Cartoon</ion-option>
          <ion-option value="Genre: Comedy">Comedy</ion-option>
          <ion-option value="Genre: Crime">Crime</ion-option>
          <ion-option value="Genre: Documentary film">Documentary film</ion-option>
          <ion-option value="Genre: Drama">Drama</ion-option>
          <ion-option value="Genre: Fantasy">Fantasy</ion-option>
          <ion-option value="Genre: Mistery">Mistery</ion-option>
          <ion-option value="Genre: Science fiction">Science fiction</ion-option>
          <ion-option value="Genre: Sports">Sports</ion-option>
          <ion-option value="Genre: Terror">Terror</ion-option>
          <ion-option value="Genre: Thriller">Thriller</ion-option>
        </ion-select>
      </ion-item>
      
      <ion-item>
        <ion-label>Video Language: </ion-label>
        <ion-select [(ngModel)]="videoLanguage" interface="popover">
          <ion-option value="Video Language: All" selected="true">All</ion-option>
          <ion-option value="Video Language: English">English</ion-option>
          <ion-option value="Video Language: French">French</ion-option>
          <ion-option value="Video Language: German">German</ion-option>
          <ion-option value="Video Language: Greek">Greek</ion-option>
          <ion-option value="Video Language: Italian">Italian</ion-option>
          <ion-option value="Video Language: Portuguese">Portuguese</ion-option>
          <ion-option value="Video Language: Russian">Russian</ion-option>
          <ion-option value="Video Language: Spanish">Spanish</ion-option>
          <ion-option value="Video Language: Others">Others</ion-option>
        </ion-select>
      </ion-item>
      
      <ion-item>
        <ion-label>Subtitle Language: </ion-label>
        <ion-select [(ngModel)]="subtitleLanguage" interface="popover">
          <ion-option value="Subtitle Language: All" selected="true">All</ion-option>
          <ion-option value="Subtitle Language: English">English</ion-option>
          <ion-option value="Subtitle Language: French">French</ion-option>
          <ion-option value="Subtitle Language: German">German</ion-option>
          <ion-option value="Subtitle Language: Greek">Greek</ion-option>
          <ion-option value="Subtitle Language: Italian">Italian</ion-option>
          <ion-option value="Subtitle Language: Portuguese">Portuguese</ion-option>
          <ion-option value="Subtitle Language: Russian">Russian</ion-option>
          <ion-option value="Subtitle Language: Spanish">Spanish</ion-option>
          <ion-option value="Subtitle Language: Others">Others</ion-option>
        </ion-select>
      </ion-item>
      
      <ion-row>
        <ion-col col-12 class="center">
          <ion-buttons>
            <button ion-button icon-only outline class="center" *ngIf="filter" (click)="loginLoading()" col-5>
              Accept
            </button>
          </ion-buttons>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col col-12 class="center">
          <ion-buttons>
            <button ion-button icon-only outline class="center" *ngIf="filter" (click)="filterType2()" col-5>
              Hide Filters
            </button>
          </ion-buttons>
        </ion-col>
      </ion-row>

    </ion-card>

    <ion-row>
      <ion-col col-6 class="center" *ngFor="let p of listMovie">
        <ion-thumbnail item-start col-12>
          <button (click)="goToInfo(p)" class="fotoPelicula" no-padding>
            <img [src]="p.poster">
          </button>
          <h5 class="center">
            {{ p.title }}
            <ion-fab top right edge col-4 #fab>
              <button ion-fab mini class="background">
                <ion-icon [ios]="iconoIOS1" [md]="iconoAndroid1"></ion-icon>
              </button>
              <ion-fab-list>
                <button ion-fab>
                  <ion-icon ios="ios-eye-off" md="md-eye-off" (click)="cambiarIconoSeen(fab)"></ion-icon>
                </button>
                <button ion-fab>
                  <ion-icon ios="ios-heart" md="md-heart" (click)="cambiarIconoLike(fab)"></ion-icon>
                </button>
              </ion-fab-list>
            </ion-fab>
          </h5>
        </ion-thumbnail>
      </ion-col>
      <ion-infinite-scroll (ionInfinite)="cargarMas($event)">
      </ion-infinite-scroll>
    </ion-row>
  </ion-card>
</ion-content>
